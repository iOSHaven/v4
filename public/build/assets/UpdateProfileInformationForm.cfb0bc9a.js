import{k as p,ay as d,U as w,b1 as a,W as V,X as l,a2 as o,b3 as f,bn as _,C as B,bp as h,V as v,x as s,A as j,a1 as r}from"./runtime-dom.esm-bundler.3714f197.js";import{u as A,L as E,d as F}from"./app.67811e42.js";import{_ as L}from"./Button.05052283.js";import{_ as R}from"./FormSection.b57bd017.js";import{_ as C}from"./Input.4d723479.js";import{_ as g}from"./InputError.c01bb545.js";import{_ as k}from"./Label.6120fd41.js";import{_ as z}from"./ActionMessage.a358f0ed.js";import{_ as S}from"./SecondaryButton.2caec6f6.js";/* empty css            */import"./_commonjsHelpers.c10bf6cb.js";import"./SectionTitle.62d42adc.js";import"./_plugin-vue_export-helper.cdc0426e.js";const D=r(" Profile Information "),T=r(" Update your account's profile information and email address. "),M={key:0,class:"col-span-6 sm:col-span-4"},O={class:"mt-2"},W=["src","alt"],X={class:"mt-2"},Y=r(" Select A New Photo "),q=r(" Remove Photo "),G={class:"col-span-6 sm:col-span-4"},H={class:"col-span-6 sm:col-span-4"},J={key:0},K={class:"text-sm mt-2"},Q=r(" Your email address is unverified. "),Z=r(" Click here to re-send the verification email. "),ee={class:"mt-2 font-medium text-sm text-green-600"},oe=r(" Saved. "),se=r(" Save "),he={__name:"UpdateProfileInformationForm",props:{user:Object},setup(c){const b=c,e=A({_method:"PUT",username:b.user.username,email:b.user.email,photo:null}),y=p(null),m=p(null),n=p(null),$=()=>{n.value&&(e.photo=n.value.files[0]),e.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>P()})},x=()=>{y.value=!0},I=()=>{n.value.click()},U=()=>{const t=n.value.files[0];if(!t)return;const i=new FileReader;i.onload=u=>{m.value=u.target.result},i.readAsDataURL(t)},N=()=>{F.Inertia.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{m.value=null,P()}})},P=()=>{var t;(t=n.value)!=null&&t.value&&(n.value.value=null)};return(t,i)=>(d(),w(R,{onSubmitted:$},{title:a(()=>[D]),description:a(()=>[T]),form:a(()=>[t.$page.props.jetstream.managesProfilePhotos?(d(),V("div",M,[l("input",{ref_key:"photoInput",ref:n,type:"file",class:"hidden",onChange:U},null,544),o(k,{for:"photo",value:"Photo"}),f(l("div",O,[l("img",{src:c.user.profile_photo_url,alt:c.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,W)],512),[[_,!m.value]]),f(l("div",X,[l("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:B("background-image: url('"+m.value+"');")},null,4)],512),[[_,m.value]]),o(S,{class:"mt-2 mr-2",type:"button",onClick:h(I,["prevent"])},{default:a(()=>[Y]),_:1},8,["onClick"]),c.user.profile_photo_path?(d(),w(S,{key:0,type:"button",class:"mt-2",onClick:h(N,["prevent"])},{default:a(()=>[q]),_:1},8,["onClick"])):v("",!0),o(g,{message:s(e).errors.photo,class:"mt-2"},null,8,["message"])])):v("",!0),l("div",G,[o(k,{for:"name",value:"Username"}),o(C,{id:"username",modelValue:s(e).username,"onUpdate:modelValue":i[0]||(i[0]=u=>s(e).username=u),type:"text",class:"mt-1 block w-full",autocomplete:"username"},null,8,["modelValue"]),o(g,{message:s(e).errors.username,class:"mt-2"},null,8,["message"])]),l("div",H,[o(k,{for:"email",value:"Email"}),o(C,{id:"email",modelValue:s(e).email,"onUpdate:modelValue":i[1]||(i[1]=u=>s(e).email=u),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),o(g,{message:s(e).errors.email,class:"mt-2"},null,8,["message"]),t.$page.props.jetstream.hasEmailVerification&&c.user.email_verified_at===null?(d(),V("div",J,[l("p",K,[Q,o(s(E),{href:t.route("verification.send"),method:"post",as:"button",class:"underline text-gray-600 hover:text-gray-900",onClick:h(x,["prevent"])},{default:a(()=>[Z]),_:1},8,["href","onClick"])]),f(l("div",ee," A new verification link has been sent to your email address. ",512),[[_,y.value]])])):v("",!0)])]),actions:a(()=>[o(z,{on:s(e).recentlySuccessful,class:"mr-3"},{default:a(()=>[oe]),_:1},8,["on"]),o(L,{class:j({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:a(()=>[se]),_:1},8,["class","disabled"])]),_:1}))}};export{he as default};
//# sourceMappingURL=UpdateProfileInformationForm.cfb0bc9a.js.map
