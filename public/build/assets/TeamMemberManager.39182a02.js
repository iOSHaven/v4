import{u as k,a as X,d as q}from"./app.67811e42.js";import{_ as G}from"./ActionMessage.a358f0ed.js";import{_ as j}from"./Modal.0bd03d02.js";import{_ as B}from"./Button.05052283.js";import{_ as P}from"./ConfirmationModal.115037dc.js";import{_ as V}from"./DangerButton.305a98be.js";import{_ as H}from"./DialogModal.13f682f7.js";import{_ as K}from"./FormSection.b57bd017.js";import{_ as Q}from"./Input.4d723479.js";import{_ as z}from"./InputError.c01bb545.js";import{_ as F}from"./Label.6120fd41.js";import{_ as M}from"./SecondaryButton.2caec6f6.js";import{J as S}from"./SectionBorder.88326c21.js";import{k as x,ay as l,W as n,a2 as a,b1 as t,V as d,X as o,x as s,I as C,aE as w,A as _,a1 as i,D as b}from"./runtime-dom.esm-bundler.3714f197.js";/* empty css            */import"./_commonjsHelpers.c10bf6cb.js";import"./SectionTitle.62d42adc.js";import"./_plugin-vue_export-helper.cdc0426e.js";const Y={key:0},Z=i(" Add Team Member "),ee=i(" Add a new team member to your team, allowing them to collaborate with you. "),te=o("div",{class:"col-span-6"},[o("div",{class:"max-w-xl text-sm text-gray-600"}," Please provide the email address of the person you would like to add to this team. ")],-1),se={class:"col-span-6 sm:col-span-4"},oe={key:0,class:"col-span-6 lg:col-span-4"},ae={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},le=["onClick"],ne={class:"flex items-center"},ie={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},re=o("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),me=[re],ce={class:"mt-2 text-xs text-gray-600 text-left"},de=i(" Added. "),ue=i(" Add "),_e={key:1},ve=i(" Pending Team Invitations "),fe=i(" These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation. "),be={class:"space-y-6"},he={class:"text-gray-600"},ye={class:"flex items-center"},pe=["onClick"],ge={key:2},ke=i(" Team Members "),xe=i(" All of the people that are part of this team. "),Ce={class:"space-y-6"},we={class:"flex items-center"},Te=["src","alt"],Re={class:"ml-4"},$e={class:"flex items-center"},Me=["onClick"],Se={key:1,class:"ml-2 text-sm text-gray-400"},Ae=["onClick"],je=i(" Manage Role "),Be={key:0},Pe={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},Ve=["onClick"],ze={class:"flex items-center"},Fe={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},Le=o("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ie=[Le],Ne={class:"mt-2 text-xs text-gray-600"},Oe=i(" Cancel "),Ee=i(" Save "),De=i(" Leave Team "),Je=i(" Are you sure you would like to leave this team? "),Ue=i(" Cancel "),We=i(" Leave "),Xe=i(" Remove Team Member "),qe=i(" Are you sure you would like to remove this person from the team? "),Ge=i(" Cancel "),He=i(" Remove "),vt={__name:"TeamMemberManager",props:{team:Object,availableRoles:Array,userPermissions:Object},setup(r){const y=r,c=k({email:"",role:null}),v=k({role:null}),T=k(),R=k(),p=x(!1),$=x(null),g=x(!1),h=x(null),L=()=>{c.post(route("team-members.store",y.team),{errorBag:"addTeamMember",preserveScroll:!0,onSuccess:()=>c.reset()})},I=u=>{q.Inertia.delete(route("team-invitations.destroy",u),{preserveScroll:!0})},N=u=>{$.value=u,v.role=u.membership.role,p.value=!0},O=()=>{v.put(route("team-members.update",[y.team,$.value]),{preserveScroll:!0,onSuccess:()=>p.value=!1})},E=()=>{g.value=!0},D=()=>{T.delete(route("team-members.destroy",[y.team,X().props.value.user]))},J=u=>{h.value=u},U=()=>{R.delete(route("team-members.destroy",[y.team,h.value]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>h.value=null})},A=u=>y.availableRoles.find(m=>m.key===u).name;return(u,m)=>(l(),n("div",null,[r.userPermissions.canAddTeamMembers?(l(),n("div",Y,[a(S),a(K,{onSubmitted:L},{title:t(()=>[Z]),description:t(()=>[ee]),form:t(()=>[te,o("div",se,[a(F,{for:"email",value:"Email"}),a(Q,{id:"email",modelValue:s(c).email,"onUpdate:modelValue":m[0]||(m[0]=e=>s(c).email=e),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),a(z,{message:s(c).errors.email,class:"mt-2"},null,8,["message"])]),r.availableRoles.length>0?(l(),n("div",oe,[a(F,{for:"roles",value:"Role"}),a(z,{message:s(c).errors.role,class:"mt-2"},null,8,["message"]),o("div",ae,[(l(!0),n(C,null,w(r.availableRoles,(e,f)=>(l(),n("button",{key:e.key,type:"button",class:_(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":f>0,"rounded-b-none":f!=Object.keys(r.availableRoles).length-1}]),onClick:W=>s(c).role=e.key},[o("div",{class:_({"opacity-50":s(c).role&&s(c).role!=e.key})},[o("div",ne,[o("div",{class:_(["text-sm text-gray-600",{"font-semibold":s(c).role==e.key}])},b(e.name),3),s(c).role==e.key?(l(),n("svg",ie,me)):d("",!0)]),o("div",ce,b(e.description),1)],2)],10,le))),128))])])):d("",!0)]),actions:t(()=>[a(G,{on:s(c).recentlySuccessful,class:"mr-3"},{default:t(()=>[de]),_:1},8,["on"]),a(B,{class:_({"opacity-25":s(c).processing}),disabled:s(c).processing},{default:t(()=>[ue]),_:1},8,["class","disabled"])]),_:1})])):d("",!0),r.team.team_invitations.length>0&&r.userPermissions.canAddTeamMembers?(l(),n("div",_e,[a(S),a(j,{class:"mt-10 sm:mt-0"},{title:t(()=>[ve]),description:t(()=>[fe]),content:t(()=>[o("div",be,[(l(!0),n(C,null,w(r.team.team_invitations,e=>(l(),n("div",{key:e.id,class:"flex items-center justify-between"},[o("div",he,b(e.email),1),o("div",ye,[r.userPermissions.canRemoveTeamMembers?(l(),n("button",{key:0,class:"cursor-pointer ml-6 text-sm text-red-500 focus:outline-none",onClick:f=>I(e)}," Cancel ",8,pe)):d("",!0)])]))),128))])]),_:1})])):d("",!0),r.team.users.length>0?(l(),n("div",ge,[a(S),a(j,{class:"mt-10 sm:mt-0"},{title:t(()=>[ke]),description:t(()=>[xe]),content:t(()=>[o("div",Ce,[(l(!0),n(C,null,w(r.team.users,e=>(l(),n("div",{key:e.id,class:"flex items-center justify-between"},[o("div",we,[o("img",{class:"w-8 h-8 rounded-full",src:e.profile_photo_url,alt:e.name},null,8,Te),o("div",Re,b(e.name),1)]),o("div",$e,[r.userPermissions.canAddTeamMembers&&r.availableRoles.length?(l(),n("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:f=>N(e)},b(A(e.membership.role)),9,Me)):r.availableRoles.length?(l(),n("div",Se,b(A(e.membership.role)),1)):d("",!0),u.$page.props.user.id===e.id?(l(),n("button",{key:2,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:E}," Leave ")):d("",!0),r.userPermissions.canRemoveTeamMembers?(l(),n("button",{key:3,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:f=>J(e)}," Remove ",8,Ae)):d("",!0)])]))),128))])]),_:1})])):d("",!0),a(H,{show:p.value,onClose:m[2]||(m[2]=e=>p.value=!1)},{title:t(()=>[je]),content:t(()=>[$.value?(l(),n("div",Be,[o("div",Pe,[(l(!0),n(C,null,w(r.availableRoles,(e,f)=>(l(),n("button",{key:e.key,type:"button",class:_(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":f>0,"rounded-b-none":f!==Object.keys(r.availableRoles).length-1}]),onClick:W=>s(v).role=e.key},[o("div",{class:_({"opacity-50":s(v).role&&s(v).role!==e.key})},[o("div",ze,[o("div",{class:_(["text-sm text-gray-600",{"font-semibold":s(v).role===e.key}])},b(e.name),3),s(v).role===e.key?(l(),n("svg",Fe,Ie)):d("",!0)]),o("div",Ne,b(e.description),1)],2)],10,Ve))),128))])])):d("",!0)]),footer:t(()=>[a(M,{onClick:m[1]||(m[1]=e=>p.value=!1)},{default:t(()=>[Oe]),_:1}),a(B,{class:_(["ml-3",{"opacity-25":s(v).processing}]),disabled:s(v).processing,onClick:O},{default:t(()=>[Ee]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(P,{show:g.value,onClose:m[4]||(m[4]=e=>g.value=!1)},{title:t(()=>[De]),content:t(()=>[Je]),footer:t(()=>[a(M,{onClick:m[3]||(m[3]=e=>g.value=!1)},{default:t(()=>[Ue]),_:1}),a(V,{class:_(["ml-3",{"opacity-25":s(T).processing}]),disabled:s(T).processing,onClick:D},{default:t(()=>[We]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(P,{show:h.value,onClose:m[6]||(m[6]=e=>h.value=null)},{title:t(()=>[Xe]),content:t(()=>[qe]),footer:t(()=>[a(M,{onClick:m[5]||(m[5]=e=>h.value=null)},{default:t(()=>[Ge]),_:1}),a(V,{class:_(["ml-3",{"opacity-25":s(R).processing}]),disabled:s(R).processing,onClick:U},{default:t(()=>[He]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{vt as default};
//# sourceMappingURL=TeamMemberManager.39182a02.js.map
