{"version":3,"file":"LogoutOtherBrowserSessionsForm.4b036d12.js","sources":["../../../resources/js/Pages/Profile/Partials/LogoutOtherBrowserSessionsForm.vue"],"sourcesContent":["<script setup>\nimport { ref } from 'vue';\nimport { useForm } from '@inertiajs/inertia-vue3';\nimport JetActionMessage from '@/Jetstream/ActionMessage.vue';\nimport JetActionSection from '@/Jetstream/ActionSection.vue';\nimport JetButton from '@/Jetstream/Button.vue';\nimport JetDialogModal from '@/Jetstream/DialogModal.vue';\nimport JetInput from '@/Jetstream/Input.vue';\nimport JetInputError from '@/Jetstream/InputError.vue';\nimport JetSecondaryButton from '@/Jetstream/SecondaryButton.vue';\n\ndefineProps({\n    sessions: Array,\n});\n\nconst confirmingLogout = ref(false);\nconst passwordInput = ref(null);\n\nconst form = useForm({\n    password: '',\n});\n\nconst confirmLogout = () => {\n    confirmingLogout.value = true;\n\n    setTimeout(() => passwordInput.value.focus(), 250);\n};\n\nconst logoutOtherBrowserSessions = () => {\n    form.delete(route('other-browser-sessions.destroy'), {\n        preserveScroll: true,\n        onSuccess: () => closeModal(),\n        onError: () => passwordInput.value.focus(),\n        onFinish: () => form.reset(),\n    });\n};\n\nconst closeModal = () => {\n    confirmingLogout.value = false;\n\n    form.reset();\n};\n</script>\n\n<template>\n    <JetActionSection>\n        <template #title>\n            Browser Sessions\n        </template>\n\n        <template #description>\n            Manage and log out your active sessions on other browsers and devices.\n        </template>\n\n        <template #content>\n            <div class=\"max-w-xl text-sm text-gray-600\">\n                If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password.\n            </div>\n\n            <!-- Other Browser Sessions -->\n            <div v-if=\"sessions.length > 0\" class=\"mt-5 space-y-6\">\n                <div v-for=\"(session, i) in sessions\" :key=\"i\" class=\"flex items-center\">\n                    <div>\n                        <svg\n                            v-if=\"session.agent.is_desktop\"\n                            fill=\"none\"\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            stroke-width=\"2\"\n                            viewBox=\"0 0 24 24\"\n                            stroke=\"currentColor\"\n                            class=\"w-8 h-8 text-gray-500\"\n                        >\n                            <path d=\"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n                        </svg>\n\n                        <svg\n                            v-else\n                            xmlns=\"http://www.w3.org/2000/svg\"\n                            viewBox=\"0 0 24 24\"\n                            stroke-width=\"2\"\n                            stroke=\"currentColor\"\n                            fill=\"none\"\n                            stroke-linecap=\"round\"\n                            stroke-linejoin=\"round\"\n                            class=\"w-8 h-8 text-gray-500\"\n                        >\n                            <path d=\"M0 0h24v24H0z\" stroke=\"none\" /><rect\n                                x=\"7\"\n                                y=\"4\"\n                                width=\"10\"\n                                height=\"16\"\n                                rx=\"1\"\n                            /><path d=\"M11 5h2M12 17v.01\" />\n                        </svg>\n                    </div>\n\n                    <div class=\"ml-3\">\n                        <div class=\"text-sm text-gray-600\">\n                            {{ session.agent.platform ? session.agent.platform : 'Unknown' }} - {{ session.agent.browser ? session.agent.browser : 'Unknown' }}\n                        </div>\n\n                        <div>\n                            <div class=\"text-xs text-gray-500\">\n                                {{ session.ip_address }},\n\n                                <span v-if=\"session.is_current_device\" class=\"text-green-500 font-semibold\">This device</span>\n                                <span v-else>Last active {{ session.last_active }}</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"flex items-center mt-5\">\n                <JetButton @click=\"confirmLogout\">\n                    Log Out Other Browser Sessions\n                </JetButton>\n\n                <JetActionMessage :on=\"form.recentlySuccessful\" class=\"ml-3\">\n                    Done.\n                </JetActionMessage>\n            </div>\n\n            <!-- Log Out Other Devices Confirmation Modal -->\n            <JetDialogModal :show=\"confirmingLogout\" @close=\"closeModal\">\n                <template #title>\n                    Log Out Other Browser Sessions\n                </template>\n\n                <template #content>\n                    Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices.\n\n                    <div class=\"mt-4\">\n                        <JetInput\n                            ref=\"passwordInput\"\n                            v-model=\"form.password\"\n                            type=\"password\"\n                            class=\"mt-1 block w-3/4\"\n                            placeholder=\"Password\"\n                            @keyup.enter=\"logoutOtherBrowserSessions\"\n                        />\n\n                        <JetInputError :message=\"form.errors.password\" class=\"mt-2\" />\n                    </div>\n                </template>\n\n                <template #footer>\n                    <JetSecondaryButton @click=\"closeModal\">\n                        Cancel\n                    </JetSecondaryButton>\n\n                    <JetButton\n                        class=\"ml-3\"\n                        :class=\"{ 'opacity-25': form.processing }\"\n                        :disabled=\"form.processing\"\n                        @click=\"logoutOtherBrowserSessions\"\n                    >\n                        Log Out Other Browser Sessions\n                    </JetButton>\n                </template>\n            </JetDialogModal>\n        </template>\n    </JetActionSection>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAeA,UAAM,mBAAmB,IAAI,KAAK;AAClC,UAAM,gBAAgB,IAAI,IAAI;AAE9B,UAAM,OAAO,QAAQ;AAAA,MACjB,UAAU;AAAA,IACd,CAAC;AAED,UAAM,gBAAgB,MAAM;AACxB,uBAAiB,QAAQ;AAEzB,iBAAW,MAAM,cAAc,MAAM,MAAO,GAAE,GAAG;AAAA,IACrD;AAEA,UAAM,6BAA6B,MAAM;AACrC,WAAK,OAAO,MAAM,gCAAgC,GAAG;AAAA,QACjD,gBAAgB;AAAA,QAChB,WAAW,MAAM,WAAY;AAAA,QAC7B,SAAS,MAAM,cAAc,MAAM,MAAO;AAAA,QAC1C,UAAU,MAAM,KAAK,MAAO;AAAA,MACpC,CAAK;AAAA,IACL;AAEA,UAAM,aAAa,MAAM;AACrB,uBAAiB,QAAQ;AAEzB,WAAK,MAAK;AAAA,IACd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}